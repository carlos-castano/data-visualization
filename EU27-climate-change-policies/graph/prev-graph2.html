<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #202020;
        }

        .tooltip {
            position: absolute;
            background-color: #dedede;
            border-radius: 8px;
            padding: 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip-header {
            padding: 8px;
            font-weight: bold;
            color: aliceblue;
            background-color: black;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
        }

        .tooltip-content {
            padding: 8px;
            background-color: #dedede;
            border-radius: 8px;
        }

        .tooltip-row {
            margin: 4px 0;
        }

        .arrow {
            cursor: pointer;
            font-size: 24px;
            user-select: none;
            color: aliceblue;
        }

        .arrow-svg {
            width: 24px;
            height: 24px;
            fill: currentColor;
            margin-top: 7px;
        }

        .arrow-svg:hover {
            background-color: #2af4f4a8;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-radius: 50%;
        }

        .arrow.disabled {
            color: rgb(36, 36, 36);
            pointer-events: none;
        }

        .year-label {
            font-weight: bold;
            font-size: 20px;
            color: aliceblue;
        }

        .controls {
            position: absolute;
            top: 225px;
            right: 125px;
            display: flex;
            align-items: center;
            border: 2px solid aliceblue;
            border-radius: 30px;
            padding: 8px;
            background-color: #202020;
            transition: background-color 0.3s;
        }

        svg {
            display: block;
        }

        .grid line {
            stroke: aliceblue;
        }

        .grid path {
            stroke: none;
        }

        .tick text{
            color:aliceblue;
        }

        .tick line{
            stroke:aliceblue;
        }
        
    </style>
</head>
<body>
    <div class="controls">
        <span class="arrow" id="left-arrow" style="margin-bottom: 7px;">
            <svg class="arrow-svg" viewBox="0 0 24 24">
                <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
            </svg>
        </span>
        <span class="year-label" id="year-label">2022</span>
        <span class="arrow" id="right-arrow" style="margin-bottom: 7px;">
            <svg class="arrow-svg" viewBox="0 0 24 24">
                <path d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z"/>
            </svg>
        </span>
    </div>
    <script>
        const contriesData  = [
			{ Country: "Austria", Year: 2015, CleanShare: 33.4, TaxGDP: 2.4, EmissionsEUShare: 2.0, TaxEUShare: 2.7, TotalAmount: -2.2, BalanceSheet: -0.7, VotesPerc: 2.7, StackedAmount2015: -2.2 },
			{ Country: "Austria", Year: 2016, CleanShare: 34.4, TaxGDP: 2.4, EmissionsEUShare: 2.0, TaxEUShare: 2.7, TotalAmount: -2.0, BalanceSheet: -0.7, VotesPerc: 2.7, StackedAmount2015: -4.2 },
			{ Country: "Austria", Year: 2017, CleanShare: 33.6, TaxGDP: 2.4, EmissionsEUShare: 2.1, TaxEUShare: 2.8, TotalAmount: -2.1, BalanceSheet: -0.7, VotesPerc: 2.7, StackedAmount2015: -6.3 },
			{ Country: "Austria", Year: 2018, CleanShare: 33.5, TaxGDP: 2.3, EmissionsEUShare: 2.1, TaxEUShare: 2.7, TotalAmount: -2.1, BalanceSheet: -0.6, VotesPerc: 2.7, StackedAmount2015: -8.4 },
			{ Country: "Austria", Year: 2019, CleanShare: 34.7, TaxGDP: 2.3, EmissionsEUShare: 2.2, TaxEUShare: 2.7, TotalAmount: -1.8, BalanceSheet: -0.6, VotesPerc: 2.7, StackedAmount2015: -10.3 },
			{ Country: "Austria", Year: 2020, CleanShare: 37.5, TaxGDP: 2.1, EmissionsEUShare: 2.2, TaxEUShare: 2.6, TotalAmount: -1.3, BalanceSheet: -0.4, VotesPerc: 2.7, StackedAmount2015: -11.6 },
			{ Country: "Austria", Year: 2021, CleanShare: 35.1, TaxGDP: 2.2, EmissionsEUShare: 2.2, TaxEUShare: 2.7, TotalAmount: -1.5, BalanceSheet: -0.5, VotesPerc: 2.7, StackedAmount2015: -13.1 },
			{ Country: "Austria", Year: 2022, CleanShare: 35.3, TaxGDP: 1.9, EmissionsEUShare: 2.1, TaxEUShare: 2.6, TotalAmount: -1.7, BalanceSheet: -0.5, VotesPerc: 2.7, StackedAmount2015: -14.8 },
			{ Country: "Belgium", Year: 2015, CleanShare: 16.7, TaxGDP: 2.6, EmissionsEUShare: 3.4, TaxEUShare: 3.5, TotalAmount: -0.5, BalanceSheet: -0.2, VotesPerc: 3.0, StackedAmount2015: -0.5 },
			{ Country: "Belgium", Year: 2016, CleanShare: 21.7, TaxGDP: 2.7, EmissionsEUShare: 3.3, TaxEUShare: 3.7, TotalAmount: -1.2, BalanceSheet: -0.4, VotesPerc: 3.0, StackedAmount2015: -1.7 },
			{ Country: "Belgium", Year: 2017, CleanShare: 21.5, TaxGDP: 2.7, EmissionsEUShare: 3.3, TaxEUShare: 3.8, TotalAmount: -1.6, BalanceSheet: -0.5, VotesPerc: 3.0, StackedAmount2015: -3.2 },
			{ Country: "Belgium", Year: 2018, CleanShare: 17.1, TaxGDP: 2.7, EmissionsEUShare: 3.3, TaxEUShare: 3.8, TotalAmount: -1.5, BalanceSheet: -0.5, VotesPerc: 3.0, StackedAmount2015: -4.8 },
			{ Country: "Belgium", Year: 2019, CleanShare: 22.4, TaxGDP: 2.6, EmissionsEUShare: 3.5, TaxEUShare: 3.8, TotalAmount: -1.1, BalanceSheet: -0.3, VotesPerc: 3.0, StackedAmount2015: -5.8 },
			{ Country: "Belgium", Year: 2020, CleanShare: 23.1, TaxGDP: 2.5, EmissionsEUShare: 3.5, TaxEUShare: 3.8, TotalAmount: -0.9, BalanceSheet: -0.3, VotesPerc: 3.0, StackedAmount2015: -6.7 },
			{ Country: "Belgium", Year: 2021, CleanShare: 25.8, TaxGDP: 2.5, EmissionsEUShare: 3.5, TaxEUShare: 3.8, TotalAmount: -1.1, BalanceSheet: -0.3, VotesPerc: 3.0, StackedAmount2015: -7.8 },
			{ Country: "Belgium", Year: 2022, CleanShare: 25.7, TaxGDP: 2.2, EmissionsEUShare: 3.4, TaxEUShare: 3.9, TotalAmount: -1.6, BalanceSheet: -0.5, VotesPerc: 3.0, StackedAmount2015: -9.4 },
			{ Country: "Bulgaria", Year: 2015, CleanShare: 28.5, TaxGDP: 3.0, EmissionsEUShare: 1.6, TaxEUShare: 0.5, TotalAmount: 3.4, BalanceSheet: 1.1, VotesPerc: 2.4, StackedAmount2015: 3.4 },
			{ Country: "Bulgaria", Year: 2016, CleanShare: 28.2, TaxGDP: 3.0, EmissionsEUShare: 1.5, TaxEUShare: 0.5, TotalAmount: 3.3, BalanceSheet: 1.1, VotesPerc: 2.4, StackedAmount2015: 6.7 },
			{ Country: "Bulgaria", Year: 2017, CleanShare: 26.0, TaxGDP: 2.8, EmissionsEUShare: 1.6, TaxEUShare: 0.5, TotalAmount: 3.5, BalanceSheet: 1.1, VotesPerc: 2.4, StackedAmount2015: 10.2 },
			{ Country: "Bulgaria", Year: 2018, CleanShare: 30.7, TaxGDP: 2.6, EmissionsEUShare: 1.5, TaxEUShare: 0.5, TotalAmount: 3.3, BalanceSheet: 1.0, VotesPerc: 2.4, StackedAmount2015: 13.5 },
			{ Country: "Bulgaria", Year: 2019, CleanShare: 29.9, TaxGDP: 3.0, EmissionsEUShare: 1.5, TaxEUShare: 0.6, TotalAmount: 3.1, BalanceSheet: 0.9, VotesPerc: 2.4, StackedAmount2015: 16.6 },
			{ Country: "Bulgaria", Year: 2020, CleanShare: 32.3, TaxGDP: 3.0, EmissionsEUShare: 1.4, TaxEUShare: 0.6, TotalAmount: 2.5, BalanceSheet: 0.8, VotesPerc: 2.4, StackedAmount2015: 19.1 },
			{ Country: "Bulgaria", Year: 2021, CleanShare: 31.8, TaxGDP: 2.8, EmissionsEUShare: 1.5, TaxEUShare: 0.6, TotalAmount: 3.1, BalanceSheet: 0.9, VotesPerc: 2.4, StackedAmount2015: 22.2 },
			{ Country: "Bulgaria", Year: 2022, CleanShare: 29.8, TaxGDP: 4.8, EmissionsEUShare: 1.7, TaxEUShare: 1.3, TotalAmount: 1.4, BalanceSheet: 0.4, VotesPerc: 2.4, StackedAmount2015: 23.5 },
			{ Country: "Cyprus", Year: 2015, CleanShare: 3.8, TaxGDP: 3.0, EmissionsEUShare: 0.2, TaxEUShare: 0.2, TotalAmount: 0.1, BalanceSheet: 0.0, VotesPerc: 0.9, StackedAmount2015: 0.1 },
			{ Country: "Cyprus", Year: 2016, CleanShare: 3.7, TaxGDP: 2.9, EmissionsEUShare: 0.2, TaxEUShare: 0.2, TotalAmount: 0.2, BalanceSheet: 0.1, VotesPerc: 0.9, StackedAmount2015: 0.2 },
			{ Country: "Cyprus", Year: 2017, CleanShare: 3.6, TaxGDP: 3.0, EmissionsEUShare: 0.2, TaxEUShare: 0.2, TotalAmount: 0.2, BalanceSheet: 0.0, VotesPerc: 0.9, StackedAmount2015: 0.4 },
			{ Country: "Cyprus", Year: 2018, CleanShare: 3.9, TaxGDP: 2.8, EmissionsEUShare: 0.2, TaxEUShare: 0.2, TotalAmount: 0.1, BalanceSheet: 0.0, VotesPerc: 0.9, StackedAmount2015: 0.5 },
			{ Country: "Cyprus", Year: 2019, CleanShare: 4.3, TaxGDP: 2.5, EmissionsEUShare: 0.3, TaxEUShare: 0.2, TotalAmount: 0.3, BalanceSheet: 0.1, VotesPerc: 0.9, StackedAmount2015: 0.8 },
			{ Country: "Cyprus", Year: 2020, CleanShare: 5.7, TaxGDP: 2.3, EmissionsEUShare: 0.3, TaxEUShare: 0.2, TotalAmount: 0.3, BalanceSheet: 0.1, VotesPerc: 0.9, StackedAmount2015: 1.1 },
			{ Country: "Cyprus", Year: 2021, CleanShare: 7.0, TaxGDP: 2.2, EmissionsEUShare: 0.3, TaxEUShare: 0.2, TotalAmount: 0.3, BalanceSheet: 0.1, VotesPerc: 0.9, StackedAmount2015: 1.4 },
			{ Country: "Cyprus", Year: 2022, CleanShare: 7.4, TaxGDP: 2.1, EmissionsEUShare: 0.3, TaxEUShare: 0.2, TotalAmount: 0.3, BalanceSheet: 0.1, VotesPerc: 0.9, StackedAmount2015: 1.7 },
			{ Country: "Czechia", Year: 2015, CleanShare: 20.8, TaxGDP: 2.0, EmissionsEUShare: 3.2, TaxEUShare: 1.2, TotalAmount: 6.1, BalanceSheet: 2.0, VotesPerc: 3.0, StackedAmount2015: 6.1 },
			{ Country: "Czechia", Year: 2016, CleanShare: 19.4, TaxGDP: 2.1, EmissionsEUShare: 3.2, TaxEUShare: 1.2, TotalAmount: 6.2, BalanceSheet: 2.0, VotesPerc: 3.0, StackedAmount2015: 12.3 },
			{ Country: "Czechia", Year: 2017, CleanShare: 20.7, TaxGDP: 2.0, EmissionsEUShare: 3.1, TaxEUShare: 1.2, TotalAmount: 6.2, BalanceSheet: 1.9, VotesPerc: 3.0, StackedAmount2015: 18.5 },
			{ Country: "Czechia", Year: 2018, CleanShare: 21.3, TaxGDP: 1.9, EmissionsEUShare: 3.1, TaxEUShare: 1.3, TotalAmount: 6.1, BalanceSheet: 1.9, VotesPerc: 3.0, StackedAmount2015: 24.6 },
			{ Country: "Czechia", Year: 2019, CleanShare: 22.3, TaxGDP: 2.0, EmissionsEUShare: 3.1, TaxEUShare: 1.4, TotalAmount: 5.7, BalanceSheet: 1.7, VotesPerc: 3.0, StackedAmount2015: 30.3 },
			{ Country: "Czechia", Year: 2020, CleanShare: 24.1, TaxGDP: 1.9, EmissionsEUShare: 3.1, TaxEUShare: 1.4, TotalAmount: 5.2, BalanceSheet: 1.7, VotesPerc: 3.0, StackedAmount2015: 35.5 },
			{ Country: "Czechia", Year: 2021, CleanShare: 23.3, TaxGDP: 1.8, EmissionsEUShare: 3.1, TaxEUShare: 1.3, TotalAmount: 5.7, BalanceSheet: 1.7, VotesPerc: 3.0, StackedAmount2015: 41.2 },
			{ Country: "Czechia", Year: 2022, CleanShare: 23.9, TaxGDP: 1.4, EmissionsEUShare: 3.1, TaxEUShare: 1.3, TotalAmount: 5.7, BalanceSheet: 1.8, VotesPerc: 3.0, StackedAmount2015: 46.9 },
			{ Country: "Germany", Year: 2015, CleanShare: 20.5, TaxGDP: 1.9, EmissionsEUShare: 23.9, TaxEUShare: 19.5, TotalAmount: 13.3, BalanceSheet: 4.5, VotesPerc: 13.6, StackedAmount2015: 13.3 },
			{ Country: "Germany", Year: 2016, CleanShare: 19.7, TaxGDP: 1.8, EmissionsEUShare: 23.9, TaxEUShare: 18.8, TotalAmount: 15.8, BalanceSheet: 5.1, VotesPerc: 13.6, StackedAmount2015: 29.1 },
			{ Country: "Germany", Year: 2017, CleanShare: 20.6, TaxGDP: 1.8, EmissionsEUShare: 23.3, TaxEUShare: 18.7, TotalAmount: 14.4, BalanceSheet: 4.5, VotesPerc: 13.6, StackedAmount2015: 43.5 },
			{ Country: "Germany", Year: 2018, CleanShare: 21.6, TaxGDP: 1.8, EmissionsEUShare: 22.8, TaxEUShare: 18.7, TotalAmount: 13.3, BalanceSheet: 4.1, VotesPerc: 13.6, StackedAmount2015: 56.9 },
			{ Country: "Germany", Year: 2019, CleanShare: 23.3, TaxGDP: 1.7, EmissionsEUShare: 22.4, TaxEUShare: 18.6, TotalAmount: 12.7, BalanceSheet: 3.8, VotesPerc: 13.6, StackedAmount2015: 69.6 },
			{ Country: "Germany", Year: 2020, CleanShare: 25.0, TaxGDP: 1.7, EmissionsEUShare: 22.5, TaxEUShare: 19.1, TotalAmount: 10.2, BalanceSheet: 3.4, VotesPerc: 13.6, StackedAmount2015: 79.8 },
			{ Country: "Germany", Year: 2021, CleanShare: 23.2, TaxGDP: 1.9, EmissionsEUShare: 22.2, TaxEUShare: 20.7, TotalAmount: 5.1, BalanceSheet: 1.5, VotesPerc: 13.6, StackedAmount2015: 84.8 },
			{ Country: "Germany", Year: 2022, CleanShare: 23.1, TaxGDP: 1.7, EmissionsEUShare: 22.4, TaxEUShare: 21.1, TotalAmount: 4.3, BalanceSheet: 1.3, VotesPerc: 13.6, StackedAmount2015: 89.1 },
			{ Country: "Denmark", Year: 2015, CleanShare: 27.1, TaxGDP: 4.0, EmissionsEUShare: 1.4, TaxEUShare: 3.6, TotalAmount: -6.6, BalanceSheet: -2.2, VotesPerc: 2.0, StackedAmount2015: -6.6 },
			{ Country: "Denmark", Year: 2016, CleanShare: 26.0, TaxGDP: 3.9, EmissionsEUShare: 1.5, TaxEUShare: 3.6, TotalAmount: -6.5, BalanceSheet: -2.1, VotesPerc: 2.0, StackedAmount2015: -13.1 },
			{ Country: "Denmark", Year: 2017, CleanShare: 30.6, TaxGDP: 3.7, EmissionsEUShare: 1.4, TaxEUShare: 3.4, TotalAmount: -6.3, BalanceSheet: -2.0, VotesPerc: 2.0, StackedAmount2015: -19.4 },
			{ Country: "Denmark", Year: 2018, CleanShare: 29.4, TaxGDP: 3.6, EmissionsEUShare: 1.4, TaxEUShare: 3.4, TotalAmount: -6.3, BalanceSheet: -1.9, VotesPerc: 2.0, StackedAmount2015: -25.7 },
			{ Country: "Denmark", Year: 2019, CleanShare: 33.2, TaxGDP: 3.3, EmissionsEUShare: 1.4, TaxEUShare: 3.1, TotalAmount: -5.6, BalanceSheet: -1.7, VotesPerc: 2.0, StackedAmount2015: -31.3 },
			{ Country: "Denmark", Year: 2020, CleanShare: 37.4, TaxGDP: 3.2, EmissionsEUShare: 1.4, TaxEUShare: 3.3, TotalAmount: -5.6, BalanceSheet: -1.9, VotesPerc: 2.0, StackedAmount2015: -36.9 },
			{ Country: "Denmark", Year: 2021, CleanShare: 39.3, TaxGDP: 2.8, EmissionsEUShare: 1.4, TaxEUShare: 2.9, TotalAmount: -5.1, BalanceSheet: -1.5, VotesPerc: 2.0, StackedAmount2015: -42.0 },
			{ Country: "Denmark", Year: 2022, CleanShare: 40.4, TaxGDP: 2.4, EmissionsEUShare: 1.4, TaxEUShare: 2.8, TotalAmount: -4.6, BalanceSheet: -1.5, VotesPerc: 2.0, StackedAmount2015: -46.6 },
			{ Country: "Estonia", Year: 2015, CleanShare: 6.9, TaxGDP: 2.7, EmissionsEUShare: 0.6, TaxEUShare: 0.2, TotalAmount: 1.1, BalanceSheet: 0.4, VotesPerc: 0.9, StackedAmount2015: 1.1 },
			{ Country: "Estonia", Year: 2016, CleanShare: 6.7, TaxGDP: 2.9, EmissionsEUShare: 0.6, TaxEUShare: 0.2, TotalAmount: 1.2, BalanceSheet: 0.4, VotesPerc: 0.9, StackedAmount2015: 2.4 },
			{ Country: "Estonia", Year: 2017, CleanShare: 7.1, TaxGDP: 2.8, EmissionsEUShare: 0.6, TaxEUShare: 0.2, TotalAmount: 1.4, BalanceSheet: 0.4, VotesPerc: 0.9, StackedAmount2015: 3.7 },
			{ Country: "Estonia", Year: 2018, CleanShare: 7.8, TaxGDP: 2.7, EmissionsEUShare: 0.6, TaxEUShare: 0.2, TotalAmount: 1.4, BalanceSheet: 0.4, VotesPerc: 0.9, StackedAmount2015: 5.1 },
			{ Country: "Estonia", Year: 2019, CleanShare: 10.3, TaxGDP: 3.1, EmissionsEUShare: 0.5, TaxEUShare: 0.3, TotalAmount: 0.7, BalanceSheet: 0.2, VotesPerc: 0.9, StackedAmount2015: 5.8 },
			{ Country: "Estonia", Year: 2020, CleanShare: 15.2, TaxGDP: 2.4, EmissionsEUShare: 0.4, TaxEUShare: 0.2, TotalAmount: 0.6, BalanceSheet: 0.2, VotesPerc: 0.9, StackedAmount2015: 6.4 },
			{ Country: "Estonia", Year: 2021, CleanShare: 14.0, TaxGDP: 2.3, EmissionsEUShare: 0.4, TaxEUShare: 0.2, TotalAmount: 0.7, BalanceSheet: 0.2, VotesPerc: 0.9, StackedAmount2015: 7.1 },
			{ Country: "Estonia", Year: 2022, CleanShare: 13.4, TaxGDP: 2.3, EmissionsEUShare: 0.5, TaxEUShare: 0.3, TotalAmount: 0.7, BalanceSheet: 0.2, VotesPerc: 0.9, StackedAmount2015: 7.7 },
			{ Country: "Greece", Year: 2015, CleanShare: 12.9, TaxGDP: 4.2, EmissionsEUShare: 2.3, TaxEUShare: 2.5, TotalAmount: -0.6, BalanceSheet: -0.2, VotesPerc: 3.0, StackedAmount2015: -0.6 },
			{ Country: "Greece", Year: 2016, CleanShare: 13.1, TaxGDP: 4.2, EmissionsEUShare: 2.1, TaxEUShare: 2.3, TotalAmount: -0.7, BalanceSheet: -0.2, VotesPerc: 3.0, StackedAmount2015: -1.3 },
			{ Country: "Greece", Year: 2017, CleanShare: 11.5, TaxGDP: 4.4, EmissionsEUShare: 2.2, TaxEUShare: 2.4, TotalAmount: -0.8, BalanceSheet: -0.3, VotesPerc: 3.0, StackedAmount2015: -2.1 },
			{ Country: "Greece", Year: 2018, CleanShare: 13.3, TaxGDP: 4.1, EmissionsEUShare: 2.3, TaxEUShare: 2.3, TotalAmount: 0.3, BalanceSheet: 0.1, VotesPerc: 3.0, StackedAmount2015: -1.9 },
			{ Country: "Greece", Year: 2019, CleanShare: 13.6, TaxGDP: 4.2, EmissionsEUShare: 2.2, TaxEUShare: 2.3, TotalAmount: -0.5, BalanceSheet: -0.2, VotesPerc: 3.0, StackedAmount2015: -2.4 },
			{ Country: "Greece", Year: 2020, CleanShare: 16.9, TaxGDP: 4.1, EmissionsEUShare: 2.0, TaxEUShare: 2.3, TotalAmount: -0.8, BalanceSheet: -0.3, VotesPerc: 3.0, StackedAmount2015: -3.2 },
			{ Country: "Greece", Year: 2021, CleanShare: 19.4, TaxGDP: 4.2, EmissionsEUShare: 1.9, TaxEUShare: 2.3, TotalAmount: -1.3, BalanceSheet: -0.4, VotesPerc: 3.0, StackedAmount2015: -4.6 },
			{ Country: "Greece", Year: 2022, CleanShare: 18.9, TaxGDP: 5.6, EmissionsEUShare: 2.0, TaxEUShare: 3.7, TotalAmount: -5.3, BalanceSheet: -1.7, VotesPerc: 3.0, StackedAmount2015: -9.8 },
			{ Country: "Spain", Year: 2015, CleanShare: 26.5, TaxGDP: 1.9, EmissionsEUShare: 8.7, TaxEUShare: 7.0, TotalAmount: 5.2, BalanceSheet: 1.7, VotesPerc: 8.4, StackedAmount2015: 5.2 },
			{ Country: "Spain", Year: 2016, CleanShare: 27.7, TaxGDP: 1.9, EmissionsEUShare: 8.4, TaxEUShare: 6.7, TotalAmount: 5.3, BalanceSheet: 1.7, VotesPerc: 8.4, StackedAmount2015: 10.4 },
			{ Country: "Spain", Year: 2017, CleanShare: 24.4, TaxGDP: 1.8, EmissionsEUShare: 8.8, TaxEUShare: 6.7, TotalAmount: 6.6, BalanceSheet: 2.1, VotesPerc: 8.4, StackedAmount2015: 17.1 },
			{ Country: "Spain", Year: 2018, CleanShare: 26.2, TaxGDP: 1.8, EmissionsEUShare: 8.8, TaxEUShare: 6.8, TotalAmount: 6.6, BalanceSheet: 2.0, VotesPerc: 8.4, StackedAmount2015: 23.7 },
			{ Country: "Spain", Year: 2019, CleanShare: 26.0, TaxGDP: 1.8, EmissionsEUShare: 8.7, TaxEUShare: 6.7, TotalAmount: 6.7, BalanceSheet: 2.0, VotesPerc: 8.4, StackedAmount2015: 30.4 },
			{ Country: "Spain", Year: 2020, CleanShare: 32.1, TaxGDP: 1.7, EmissionsEUShare: 8.3, TaxEUShare: 6.5, TotalAmount: 5.5, BalanceSheet: 1.8, VotesPerc: 8.4, StackedAmount2015: 36.0 },
			{ Country: "Spain", Year: 2021, CleanShare: 31.5, TaxGDP: 1.7, EmissionsEUShare: 8.5, TaxEUShare: 6.4, TotalAmount: 6.7, BalanceSheet: 2.0, VotesPerc: 8.4, StackedAmount2015: 42.7 },
			{ Country: "Spain", Year: 2022, CleanShare: 30.0, TaxGDP: 1.5, EmissionsEUShare: 8.8, TaxEUShare: 6.5, TotalAmount: 7.5, BalanceSheet: 2.4, VotesPerc: 8.4, StackedAmount2015: 50.2 },
			{ Country: "Finland", Year: 2015, CleanShare: 45.7, TaxGDP: 2.9, EmissionsEUShare: 2.4, TaxEUShare: 2.0, TotalAmount: 1.0, BalanceSheet: 0.3, VotesPerc: 2.0, StackedAmount2015: 1.0 },
			{ Country: "Finland", Year: 2016, CleanShare: 44.2, TaxGDP: 3.1, EmissionsEUShare: 2.4, TaxEUShare: 2.1, TotalAmount: 0.8, BalanceSheet: 0.2, VotesPerc: 2.0, StackedAmount2015: 1.8 },
			{ Country: "Finland", Year: 2017, CleanShare: 45.6, TaxGDP: 3.0, EmissionsEUShare: 2.3, TaxEUShare: 2.1, TotalAmount: 0.7, BalanceSheet: 0.2, VotesPerc: 2.0, StackedAmount2015: 2.5 },
			{ Country: "Finland", Year: 2018, CleanShare: 45.4, TaxGDP: 3.0, EmissionsEUShare: 2.4, TaxEUShare: 2.1, TotalAmount: 1.0, BalanceSheet: 0.3, VotesPerc: 2.0, StackedAmount2015: 3.5 },
			{ Country: "Finland", Year: 2019, CleanShare: 47.1, TaxGDP: 2.9, EmissionsEUShare: 2.5, TaxEUShare: 2.1, TotalAmount: 1.3, BalanceSheet: 0.4, VotesPerc: 2.0, StackedAmount2015: 4.8 },
			{ Country: "Finland", Year: 2020, CleanShare: 51.5, TaxGDP: 2.8, EmissionsEUShare: 2.5, TaxEUShare: 2.2, TotalAmount: 1.0, BalanceSheet: 0.3, VotesPerc: 2.0, StackedAmount2015: 5.8 },
			{ Country: "Finland", Year: 2021, CleanShare: 53.3, TaxGDP: 2.6, EmissionsEUShare: 2.4, TaxEUShare: 1.9, TotalAmount: 1.6, BalanceSheet: 0.5, VotesPerc: 2.0, StackedAmount2015: 7.4 },
			{ Country: "Finland", Year: 2022, CleanShare: 54.6, TaxGDP: 2.5, EmissionsEUShare: 2.5, TaxEUShare: 2.1, TotalAmount: 1.3, BalanceSheet: 0.4, VotesPerc: 2.0, StackedAmount2015: 8.7 },
			{ Country: "France", Year: 2015, CleanShare: 49.4, TaxGDP: 2.1, EmissionsEUShare: 10.8, TaxEUShare: 15.7, TotalAmount: -14.8, BalanceSheet: -4.9, VotesPerc: 11.2, StackedAmount2015: -14.8 },
			{ Country: "France", Year: 2016, CleanShare: 47.6, TaxGDP: 2.2, EmissionsEUShare: 10.9, TaxEUShare: 16.1, TotalAmount: -15.9, BalanceSheet: -5.1, VotesPerc: 11.2, StackedAmount2015: -30.7 },
			{ Country: "France", Year: 2017, CleanShare: 46.4, TaxGDP: 2.3, EmissionsEUShare: 11.2, TaxEUShare: 16.5, TotalAmount: -17.1, BalanceSheet: -5.3, VotesPerc: 11.2, StackedAmount2015: -47.8 },
			{ Country: "France", Year: 2018, CleanShare: 48.9, TaxGDP: 2.4, EmissionsEUShare: 10.7, TaxEUShare: 17.1, TotalAmount: -20.9, BalanceSheet: -6.4, VotesPerc: 11.2, StackedAmount2015: -68.7 },
			{ Country: "France", Year: 2019, CleanShare: 48.5, TaxGDP: 2.3, EmissionsEUShare: 10.9, TaxEUShare: 16.9, TotalAmount: -20.1, BalanceSheet: -6.1, VotesPerc: 11.2, StackedAmount2015: -88.8 },
			{ Country: "France", Year: 2020, CleanShare: 50.6, TaxGDP: 2.2, EmissionsEUShare: 10.7, TaxEUShare: 16.6, TotalAmount: -17.6, BalanceSheet: -5.8, VotesPerc: 11.2, StackedAmount2015: -106.4 },
			{ Country: "France", Year: 2021, CleanShare: 49.7, TaxGDP: 2.2, EmissionsEUShare: 10.9, TaxEUShare: 16.6, TotalAmount: -18.8, BalanceSheet: -5.7, VotesPerc: 11.2, StackedAmount2015: -125.1 },
			{ Country: "France", Year: 2022, CleanShare: 45.7, TaxGDP: 2.0, EmissionsEUShare: 10.7, TaxEUShare: 16.9, TotalAmount: -19.8, BalanceSheet: -6.3, VotesPerc: 11.2, StackedAmount2015: -145.0 },
			{ Country: "Croatia", Year: 2015, CleanShare: 22.4, TaxGDP: 4.2, EmissionsEUShare: 0.6, TaxEUShare: 0.6, TotalAmount: -0.0, BalanceSheet: -0.0, VotesPerc: 2.0, StackedAmount2015: -0.0 },
			{ Country: "Croatia", Year: 2016, CleanShare: 23.9, TaxGDP: 4.3, EmissionsEUShare: 0.6, TaxEUShare: 0.7, TotalAmount: -0.2, BalanceSheet: -0.1, VotesPerc: 2.0, StackedAmount2015: -0.2 },
			{ Country: "Croatia", Year: 2017, CleanShare: 20.3, TaxGDP: 4.3, EmissionsEUShare: 0.6, TaxEUShare: 0.7, TotalAmount: -0.2, BalanceSheet: -0.1, VotesPerc: 2.0, StackedAmount2015: -0.4 },
			{ Country: "Croatia", Year: 2018, CleanShare: 26.8, TaxGDP: 4.3, EmissionsEUShare: 0.6, TaxEUShare: 0.7, TotalAmount: -0.4, BalanceSheet: -0.1, VotesPerc: 2.0, StackedAmount2015: -0.8 },
			{ Country: "Croatia", Year: 2019, CleanShare: 23.6, TaxGDP: 4.2, EmissionsEUShare: 0.7, TaxEUShare: 0.7, TotalAmount: -0.2, BalanceSheet: -0.1, VotesPerc: 2.0, StackedAmount2015: -1.0 },
			{ Country: "Croatia", Year: 2020, CleanShare: 25.4, TaxGDP: 4.1, EmissionsEUShare: 0.7, TaxEUShare: 0.7, TotalAmount: -0.1, BalanceSheet: -0.0, VotesPerc: 2.0, StackedAmount2015: -1.0 },
			{ Country: "Croatia", Year: 2021, CleanShare: 29.0, TaxGDP: 3.9, EmissionsEUShare: 0.6, TaxEUShare: 0.7, TotalAmount: -0.2, BalanceSheet: -0.1, VotesPerc: 2.0, StackedAmount2015: -1.2 },
			{ Country: "Croatia", Year: 2022, CleanShare: 25.8, TaxGDP: 3.4, EmissionsEUShare: 0.6, TaxEUShare: 0.7, TotalAmount: -0.2, BalanceSheet: -0.1, VotesPerc: 2.0, StackedAmount2015: -1.4 },
			{ Country: "Hungary", Year: 2015, CleanShare: 20.4, TaxGDP: 2.5, EmissionsEUShare: 1.5, TaxEUShare: 1.0, TotalAmount: 1.7, BalanceSheet: 0.6, VotesPerc: 3.0, StackedAmount2015: 1.7 },
			{ Country: "Hungary", Year: 2016, CleanShare: 20.1, TaxGDP: 2.6, EmissionsEUShare: 1.6, TaxEUShare: 1.0, TotalAmount: 1.8, BalanceSheet: 0.6, VotesPerc: 3.0, StackedAmount2015: 3.5 },
			{ Country: "Hungary", Year: 2017, CleanShare: 19.3, TaxGDP: 3.9, EmissionsEUShare: 1.6, TaxEUShare: 1.6, TotalAmount: 0.1, BalanceSheet: 0.0, VotesPerc: 3.0, StackedAmount2015: 3.7 },
			{ Country: "Hungary", Year: 2018, CleanShare: 19.0, TaxGDP: 2.4, EmissionsEUShare: 1.6, TaxEUShare: 1.0, TotalAmount: 2.1, BalanceSheet: 0.6, VotesPerc: 3.0, StackedAmount2015: 5.8 },
			{ Country: "Hungary", Year: 2019, CleanShare: 20.1, TaxGDP: 2.2, EmissionsEUShare: 1.6, TaxEUShare: 1.0, TotalAmount: 2.1, BalanceSheet: 0.6, VotesPerc: 3.0, StackedAmount2015: 7.9 },
			{ Country: "Hungary", Year: 2020, CleanShare: 21.0, TaxGDP: 2.3, EmissionsEUShare: 1.8, TaxEUShare: 1.1, TotalAmount: 2.3, BalanceSheet: 0.8, VotesPerc: 3.0, StackedAmount2015: 10.2 },
			{ Country: "Hungary", Year: 2021, CleanShare: 21.2, TaxGDP: 2.2, EmissionsEUShare: 1.7, TaxEUShare: 1.0, TotalAmount: 2.3, BalanceSheet: 0.7, VotesPerc: 3.0, StackedAmount2015: 12.5 },
			{ Country: "Hungary", Year: 2022, CleanShare: 23.1, TaxGDP: 1.8, EmissionsEUShare: 1.6, TaxEUShare: 1.0, TotalAmount: 2.1, BalanceSheet: 0.6, VotesPerc: 3.0, StackedAmount2015: 14.5 },
			{ Country: "Ireland", Year: 2015, CleanShare: 12.4, TaxGDP: 1.8, EmissionsEUShare: 1.7, TaxEUShare: 1.7, TotalAmount: 0.1, BalanceSheet: 0.0, VotesPerc: 2.0, StackedAmount2015: 0.1 },
			{ Country: "Ireland", Year: 2016, CleanShare: 11.4, TaxGDP: 1.9, EmissionsEUShare: 1.8, TaxEUShare: 1.6, TotalAmount: 0.5, BalanceSheet: 0.1, VotesPerc: 2.0, StackedAmount2015: 0.5 },
			{ Country: "Ireland", Year: 2017, CleanShare: 13.3, TaxGDP: 1.7, EmissionsEUShare: 1.8, TaxEUShare: 1.6, TotalAmount: 0.4, BalanceSheet: 0.1, VotesPerc: 2.0, StackedAmount2015: 0.9 },
			{ Country: "Ireland", Year: 2018, CleanShare: 14.9, TaxGDP: 1.5, EmissionsEUShare: 1.7, TaxEUShare: 1.6, TotalAmount: 0.5, BalanceSheet: 0.2, VotesPerc: 2.0, StackedAmount2015: 1.4 },
			{ Country: "Ireland", Year: 2019, CleanShare: 17.0, TaxGDP: 1.4, EmissionsEUShare: 1.7, TaxEUShare: 1.5, TotalAmount: 0.7, BalanceSheet: 0.2, VotesPerc: 2.0, StackedAmount2015: 2.2 },
			{ Country: "Ireland", Year: 2020, CleanShare: 20.6, TaxGDP: 1.2, EmissionsEUShare: 1.8, TaxEUShare: 1.5, TotalAmount: 0.9, BalanceSheet: 0.3, VotesPerc: 2.0, StackedAmount2015: 3.1 },
			{ Country: "Ireland", Year: 2021, CleanShare: 17.4, TaxGDP: 1.1, EmissionsEUShare: 1.8, TaxEUShare: 1.5, TotalAmount: 1.0, BalanceSheet: 0.3, VotesPerc: 2.0, StackedAmount2015: 4.1 },
			{ Country: "Ireland", Year: 2022, CleanShare: 18.9, TaxGDP: 0.8, EmissionsEUShare: 1.8, TaxEUShare: 1.4, TotalAmount: 1.3, BalanceSheet: 0.4, VotesPerc: 2.0, StackedAmount2015: 5.4 },
			{ Country: "Italy", Year: 2015, CleanShare: 16.8, TaxGDP: 3.4, EmissionsEUShare: 10.6, TaxEUShare: 18.7, TotalAmount: -24.2, BalanceSheet: -8.1, VotesPerc: 10.8, StackedAmount2015: -24.2 },
			{ Country: "Italy", Year: 2016, CleanShare: 16.5, TaxGDP: 3.5, EmissionsEUShare: 10.6, TaxEUShare: 19.2, TotalAmount: -26.5, BalanceSheet: -8.6, VotesPerc: 10.8, StackedAmount2015: -50.8 },
			{ Country: "Italy", Year: 2017, CleanShare: 15.7, TaxGDP: 3.3, EmissionsEUShare: 10.4, TaxEUShare: 18.2, TotalAmount: -24.7, BalanceSheet: -7.7, VotesPerc: 10.8, StackedAmount2015: -75.5 },
			{ Country: "Italy", Year: 2018, CleanShare: 17.0, TaxGDP: 3.3, EmissionsEUShare: 10.9, TaxEUShare: 18.0, TotalAmount: -23.1, BalanceSheet: -7.1, VotesPerc: 10.8, StackedAmount2015: -98.6 },
			{ Country: "Italy", Year: 2019, CleanShare: 17.4, TaxGDP: 3.2, EmissionsEUShare: 11.1, TaxEUShare: 17.6, TotalAmount: -21.7, BalanceSheet: -6.6, VotesPerc: 10.8, StackedAmount2015: -120.3 },
			{ Country: "Italy", Year: 2020, CleanShare: 19.4, TaxGDP: 3.0, EmissionsEUShare: 10.8, TaxEUShare: 16.8, TotalAmount: -18.1, BalanceSheet: -6.0, VotesPerc: 10.8, StackedAmount2015: -138.4 },
			{ Country: "Italy", Year: 2021, CleanShare: 17.9, TaxGDP: 3.0, EmissionsEUShare: 11.3, TaxEUShare: 16.6, TotalAmount: -17.8, BalanceSheet: -5.4, VotesPerc: 10.8, StackedAmount2015: -156.2 },
			{ Country: "Italy", Year: 2022, CleanShare: 15.9, TaxGDP: 2.3, EmissionsEUShare: 11.7, TaxEUShare: 14.2, TotalAmount: -8.0, BalanceSheet: -2.5, VotesPerc: 10.8, StackedAmount2015: -164.2 },
			{ Country: "Lithuania", Year: 2015, CleanShare: 7.5, TaxGDP: 1.8, EmissionsEUShare: 0.7, TaxEUShare: 0.2, TotalAmount: 1.3, BalanceSheet: 0.4, VotesPerc: 1.6, StackedAmount2015: 1.3 },
			{ Country: "Lithuania", Year: 2016, CleanShare: 9.0, TaxGDP: 1.9, EmissionsEUShare: 0.7, TaxEUShare: 0.2, TotalAmount: 1.3, BalanceSheet: 0.4, VotesPerc: 1.6, StackedAmount2015: 2.6 },
			{ Country: "Lithuania", Year: 2017, CleanShare: 10.3, TaxGDP: 1.9, EmissionsEUShare: 0.7, TaxEUShare: 0.3, TotalAmount: 1.3, BalanceSheet: 0.4, VotesPerc: 1.6, StackedAmount2015: 3.9 },
			{ Country: "Lithuania", Year: 2018, CleanShare: 8.8, TaxGDP: 2.0, EmissionsEUShare: 0.7, TaxEUShare: 0.3, TotalAmount: 1.4, BalanceSheet: 0.4, VotesPerc: 1.6, StackedAmount2015: 5.3 },
			{ Country: "Lithuania", Year: 2019, CleanShare: 9.8, TaxGDP: 1.9, EmissionsEUShare: 0.7, TaxEUShare: 0.3, TotalAmount: 1.4, BalanceSheet: 0.4, VotesPerc: 1.6, StackedAmount2015: 6.7 },
			{ Country: "Lithuania", Year: 2020, CleanShare: 10.3, TaxGDP: 1.9, EmissionsEUShare: 0.8, TaxEUShare: 0.3, TotalAmount: 1.3, BalanceSheet: 0.4, VotesPerc: 1.6, StackedAmount2015: 8.0 },
			{ Country: "Lithuania", Year: 2021, CleanShare: 10.6, TaxGDP: 1.8, EmissionsEUShare: 0.7, TaxEUShare: 0.3, TotalAmount: 1.4, BalanceSheet: 0.4, VotesPerc: 1.6, StackedAmount2015: 9.4 },
			{ Country: "Lithuania", Year: 2022, CleanShare: 13.0, TaxGDP: 1.5, EmissionsEUShare: 0.7, TaxEUShare: 0.3, TotalAmount: 1.2, BalanceSheet: 0.4, VotesPerc: 1.6, StackedAmount2015: 10.6 },
			{ Country: "Luxembourg", Year: 2015, CleanShare: 2.9, TaxGDP: 1.8, EmissionsEUShare: 0.3, TaxEUShare: 0.3, TotalAmount: -0.1, BalanceSheet: -0.0, VotesPerc: 0.9, StackedAmount2015: -0.1 },
			{ Country: "Luxembourg", Year: 2016, CleanShare: 3.1, TaxGDP: 1.7, EmissionsEUShare: 0.3, TaxEUShare: 0.3, TotalAmount: -0.1, BalanceSheet: -0.0, VotesPerc: 0.9, StackedAmount2015: -0.2 },
			{ Country: "Luxembourg", Year: 2017, CleanShare: 3.9, TaxGDP: 1.6, EmissionsEUShare: 0.3, TaxEUShare: 0.3, TotalAmount: -0.1, BalanceSheet: -0.0, VotesPerc: 0.9, StackedAmount2015: -0.3 },
			{ Country: "Luxembourg", Year: 2018, CleanShare: 4.3, TaxGDP: 1.7, EmissionsEUShare: 0.3, TaxEUShare: 0.3, TotalAmount: -0.1, BalanceSheet: -0.0, VotesPerc: 0.9, StackedAmount2015: -0.4 },
			{ Country: "Luxembourg", Year: 2019, CleanShare: 4.9, TaxGDP: 1.7, EmissionsEUShare: 0.3, TaxEUShare: 0.3, TotalAmount: -0.1, BalanceSheet: -0.0, VotesPerc: 0.9, StackedAmount2015: -0.5 },
			{ Country: "Luxembourg", Year: 2020, CleanShare: 7.1, TaxGDP: 1.4, EmissionsEUShare: 0.3, TaxEUShare: 0.3, TotalAmount: -0.1, BalanceSheet: -0.0, VotesPerc: 0.9, StackedAmount2015: -0.6 },
			{ Country: "Luxembourg", Year: 2021, CleanShare: 6.8, TaxGDP: 1.5, EmissionsEUShare: 0.3, TaxEUShare: 0.3, TotalAmount: -0.2, BalanceSheet: -0.0, VotesPerc: 0.9, StackedAmount2015: -0.7 },
			{ Country: "Luxembourg", Year: 2022, CleanShare: 7.6, TaxGDP: 1.2, EmissionsEUShare: 0.2, TaxEUShare: 0.3, TotalAmount: -0.2, BalanceSheet: -0.1, VotesPerc: 0.9, StackedAmount2015: -0.9 },
			{ Country: "Latvia", Year: 2015, CleanShare: 19.0, TaxGDP: 3.6, EmissionsEUShare: 0.4, TaxEUShare: 0.3, TotalAmount: 0.4, BalanceSheet: 0.1, VotesPerc: 1.1, StackedAmount2015: 0.4 },
			{ Country: "Latvia", Year: 2016, CleanShare: 22.0, TaxGDP: 3.8, EmissionsEUShare: 0.4, TaxEUShare: 0.3, TotalAmount: 0.3, BalanceSheet: 0.1, VotesPerc: 1.1, StackedAmount2015: 0.7 },
			{ Country: "Latvia", Year: 2017, CleanShare: 30.8, TaxGDP: 3.6, EmissionsEUShare: 0.4, TaxEUShare: 0.3, TotalAmount: 0.3, BalanceSheet: 0.1, VotesPerc: 1.1, StackedAmount2015: 0.9 },
			{ Country: "Latvia", Year: 2018, CleanShare: 22.7, TaxGDP: 3.5, EmissionsEUShare: 0.4, TaxEUShare: 0.3, TotalAmount: 0.4, BalanceSheet: 0.1, VotesPerc: 1.1, StackedAmount2015: 1.3 },
			{ Country: "Latvia", Year: 2019, CleanShare: 20.1, TaxGDP: 3.2, EmissionsEUShare: 0.4, TaxEUShare: 0.3, TotalAmount: 0.5, BalanceSheet: 0.1, VotesPerc: 1.1, StackedAmount2015: 1.8 },
			{ Country: "Latvia", Year: 2020, CleanShare: 25.0, TaxGDP: 3.2, EmissionsEUShare: 0.4, TaxEUShare: 0.3, TotalAmount: 0.4, BalanceSheet: 0.1, VotesPerc: 1.1, StackedAmount2015: 2.2 },
			{ Country: "Latvia", Year: 2021, CleanShare: 24.3, TaxGDP: 3.0, EmissionsEUShare: 0.4, TaxEUShare: 0.3, TotalAmount: 0.5, BalanceSheet: 0.1, VotesPerc: 1.1, StackedAmount2015: 2.7 },
			{ Country: "Latvia", Year: 2022, CleanShare: 27.0, TaxGDP: 2.4, EmissionsEUShare: 0.4, TaxEUShare: 0.3, TotalAmount: 0.5, BalanceSheet: 0.2, VotesPerc: 1.1, StackedAmount2015: 3.2 },
			{ Country: "Netherlands", Year: 2015, CleanShare: 4.9, TaxGDP: 3.3, EmissionsEUShare: 5.6, TaxEUShare: 7.7, TotalAmount: -6.1, BalanceSheet: -2.0, VotesPerc: 4.1, StackedAmount2015: -6.1 },
			{ Country: "Netherlands", Year: 2016, CleanShare: 5.0, TaxGDP: 3.3, EmissionsEUShare: 5.7, TaxEUShare: 7.7, TotalAmount: -6.2, BalanceSheet: -2.0, VotesPerc: 4.1, StackedAmount2015: -12.3 },
			{ Country: "Netherlands", Year: 2017, CleanShare: 5.5, TaxGDP: 3.3, EmissionsEUShare: 5.5, TaxEUShare: 7.7, TotalAmount: -7.1, BalanceSheet: -2.2, VotesPerc: 4.1, StackedAmount2015: -19.4 },
			{ Country: "Netherlands", Year: 2018, CleanShare: 6.0, TaxGDP: 3.3, EmissionsEUShare: 5.4, TaxEUShare: 7.9, TotalAmount: -8.2, BalanceSheet: -2.5, VotesPerc: 4.1, StackedAmount2015: -27.7 },
			{ Country: "Netherlands", Year: 2019, CleanShare: 7.2, TaxGDP: 3.3, EmissionsEUShare: 5.5, TaxEUShare: 8.3, TotalAmount: -9.5, BalanceSheet: -2.9, VotesPerc: 4.1, StackedAmount2015: -37.1 },
			{ Country: "Netherlands", Year: 2020, CleanShare: 10.3, TaxGDP: 3.1, EmissionsEUShare: 5.4, TaxEUShare: 8.4, TotalAmount: -9.1, BalanceSheet: -3.0, VotesPerc: 4.1, StackedAmount2015: -46.3 },
			{ Country: "Netherlands", Year: 2021, CleanShare: 12.1, TaxGDP: 3.0, EmissionsEUShare: 5.2, TaxEUShare: 8.0, TotalAmount: -9.5, BalanceSheet: -2.9, VotesPerc: 4.1, StackedAmount2015: -55.7 },
			{ Country: "Netherlands", Year: 2022, CleanShare: 15.1, TaxGDP: 2.3, EmissionsEUShare: 4.9, TaxEUShare: 7.2, TotalAmount: -7.3, BalanceSheet: -2.3, VotesPerc: 4.1, StackedAmount2015: -63.0 },
			{ Country: "Poland", Year: 2015, CleanShare: 6.0, TaxGDP: 2.6, EmissionsEUShare: 9.5, TaxEUShare: 3.8, TotalAmount: 16.9, BalanceSheet: 5.6, VotesPerc: 7.4, StackedAmount2015: 16.9 },
			{ Country: "Poland", Year: 2016, CleanShare: 5.7, TaxGDP: 2.7, EmissionsEUShare: 9.9, TaxEUShare: 3.7, TotalAmount: 19.1, BalanceSheet: 6.1, VotesPerc: 7.4, StackedAmount2015: 36.0 },
			{ Country: "Poland", Year: 2017, CleanShare: 5.6, TaxGDP: 2.7, EmissionsEUShare: 10.2, TaxEUShare: 3.9, TotalAmount: 20.0, BalanceSheet: 6.3, VotesPerc: 7.4, StackedAmount2015: 55.9 },
			{ Country: "Poland", Year: 2018, CleanShare: 5.0, TaxGDP: 2.7, EmissionsEUShare: 10.4, TaxEUShare: 4.1, TotalAmount: 20.5, BalanceSheet: 6.3, VotesPerc: 7.4, StackedAmount2015: 76.4 },
			{ Country: "Poland", Year: 2019, CleanShare: 6.1, TaxGDP: 2.5, EmissionsEUShare: 10.4, TaxEUShare: 4.1, TotalAmount: 20.9, BalanceSheet: 6.3, VotesPerc: 7.4, StackedAmount2015: 97.3 },
			{ Country: "Poland", Year: 2020, CleanShare: 7.0, TaxGDP: 2.5, EmissionsEUShare: 10.8, TaxEUShare: 4.4, TotalAmount: 19.2, BalanceSheet: 6.4, VotesPerc: 7.4, StackedAmount2015: 116.5 },
			{ Country: "Poland", Year: 2021, CleanShare: 7.0, TaxGDP: 2.8, EmissionsEUShare: 11.2, TaxEUShare: 5.0, TotalAmount: 20.3, BalanceSheet: 6.1, VotesPerc: 7.4, StackedAmount2015: 136.8 },
			{ Country: "Poland", Year: 2022, CleanShare: 8.8, TaxGDP: 2.8, EmissionsEUShare: 10.9, TaxEUShare: 5.8, TotalAmount: 16.3, BalanceSheet: 5.1, VotesPerc: 7.4, StackedAmount2015: 153.1 },
			{ Country: "Portugal", Year: 2015, CleanShare: 23.5, TaxGDP: 2.4, EmissionsEUShare: 1.7, TaxEUShare: 1.5, TotalAmount: 0.7, BalanceSheet: 0.2, VotesPerc: 3.0, StackedAmount2015: 0.7 },
			{ Country: "Portugal", Year: 2016, CleanShare: 28.7, TaxGDP: 2.6, EmissionsEUShare: 1.7, TaxEUShare: 1.6, TotalAmount: 0.4, BalanceSheet: 0.1, VotesPerc: 3.0, StackedAmount2015: 1.2 },
			{ Country: "Portugal", Year: 2017, CleanShare: 20.7, TaxGDP: 2.6, EmissionsEUShare: 1.8, TaxEUShare: 1.6, TotalAmount: 0.8, BalanceSheet: 0.3, VotesPerc: 3.0, StackedAmount2015: 2.0 },
			{ Country: "Portugal", Year: 2018, CleanShare: 26.1, TaxGDP: 2.6, EmissionsEUShare: 1.8, TaxEUShare: 1.6, TotalAmount: 0.6, BalanceSheet: 0.2, VotesPerc: 3.0, StackedAmount2015: 2.6 },
			{ Country: "Portugal", Year: 2019, CleanShare: 25.6, TaxGDP: 2.5, EmissionsEUShare: 1.8, TaxEUShare: 1.6, TotalAmount: 0.4, BalanceSheet: 0.1, VotesPerc: 3.0, StackedAmount2015: 3.1 },
			{ Country: "Portugal", Year: 2020, CleanShare: 31.0, TaxGDP: 2.4, EmissionsEUShare: 1.7, TaxEUShare: 1.6, TotalAmount: 0.5, BalanceSheet: 0.2, VotesPerc: 3.0, StackedAmount2015: 3.6 },
			{ Country: "Portugal", Year: 2021, CleanShare: 32.3, TaxGDP: 2.3, EmissionsEUShare: 1.6, TaxEUShare: 1.5, TotalAmount: 0.4, BalanceSheet: 0.1, VotesPerc: 3.0, StackedAmount2015: 4.0 },
			{ Country: "Portugal", Year: 2022, CleanShare: 28.7, TaxGDP: 1.9, EmissionsEUShare: 1.7, TaxEUShare: 1.5, TotalAmount: 0.8, BalanceSheet: 0.2, VotesPerc: 3.0, StackedAmount2015: 4.8 },
			{ Country: "Romania", Year: 2015, CleanShare: 26.6, TaxGDP: 2.5, EmissionsEUShare: 2.7, TaxEUShare: 1.3, TotalAmount: 4.1, BalanceSheet: 1.4, VotesPerc: 4.7, StackedAmount2015: 4.1 },
			{ Country: "Romania", Year: 2016, CleanShare: 26.8, TaxGDP: 2.4, EmissionsEUShare: 2.7, TaxEUShare: 1.3, TotalAmount: 4.2, BalanceSheet: 1.3, VotesPerc: 4.7, StackedAmount2015: 8.3 },
			{ Country: "Romania", Year: 2017, CleanShare: 24.5, TaxGDP: 2.0, EmissionsEUShare: 2.7, TaxEUShare: 1.1, TotalAmount: 5.0, BalanceSheet: 1.6, VotesPerc: 4.7, StackedAmount2015: 13.3 },
			{ Country: "Romania", Year: 2018, CleanShare: 25.3, TaxGDP: 2.0, EmissionsEUShare: 3.0, TaxEUShare: 1.2, TotalAmount: 5.7, BalanceSheet: 1.8, VotesPerc: 4.7, StackedAmount2015: 19.0 },
			{ Country: "Romania", Year: 2019, CleanShare: 24.7, TaxGDP: 2.1, EmissionsEUShare: 3.0, TaxEUShare: 1.4, TotalAmount: 5.1, BalanceSheet: 1.5, VotesPerc: 4.7, StackedAmount2015: 24.1 },
			{ Country: "Romania", Year: 2020, CleanShare: 25.7, TaxGDP: 1.9, EmissionsEUShare: 3.2, TaxEUShare: 1.4, TotalAmount: 5.3, BalanceSheet: 1.8, VotesPerc: 4.7, StackedAmount2015: 29.5 },
			{ Country: "Romania", Year: 2021, CleanShare: 25.3, TaxGDP: 2.0, EmissionsEUShare: 3.1, TaxEUShare: 1.4, TotalAmount: 5.6, BalanceSheet: 1.7, VotesPerc: 4.7, StackedAmount2015: 35.1 },
			{ Country: "Romania", Year: 2022, CleanShare: 25.2, TaxGDP: 1.6, EmissionsEUShare: 3.1, TaxEUShare: 1.4, TotalAmount: 5.2, BalanceSheet: 1.6, VotesPerc: 4.7, StackedAmount2015: 40.2 },
			{ Country: "Sweden", Year: 2015, CleanShare: 69.6, TaxGDP: 2.1, EmissionsEUShare: 2.0, TaxEUShare: 3.2, TotalAmount: -3.5, BalanceSheet: -1.2, VotesPerc: 3.0, StackedAmount2015: -3.5 },
			{ Country: "Sweden", Year: 2016, CleanShare: 68.0, TaxGDP: 2.1, EmissionsEUShare: 2.0, TaxEUShare: 3.2, TotalAmount: -3.7, BalanceSheet: -1.2, VotesPerc: 3.0, StackedAmount2015: -7.2 },
			{ Country: "Sweden", Year: 2017, CleanShare: 68.8, TaxGDP: 2.1, EmissionsEUShare: 2.0, TaxEUShare: 3.1, TotalAmount: -3.4, BalanceSheet: -1.1, VotesPerc: 3.0, StackedAmount2015: -10.6 },
			{ Country: "Sweden", Year: 2018, CleanShare: 70.6, TaxGDP: 2.0, EmissionsEUShare: 2.0, TaxEUShare: 2.8, TotalAmount: -2.7, BalanceSheet: -0.8, VotesPerc: 3.0, StackedAmount2015: -13.4 },
			{ Country: "Sweden", Year: 2019, CleanShare: 71.0, TaxGDP: 2.0, EmissionsEUShare: 2.1, TaxEUShare: 2.8, TotalAmount: -2.5, BalanceSheet: -0.7, VotesPerc: 3.0, StackedAmount2015: -15.8 },
			{ Country: "Sweden", Year: 2020, CleanShare: 72.3, TaxGDP: 2.0, EmissionsEUShare: 2.1, TaxEUShare: 3.1, TotalAmount: -2.9, BalanceSheet: -1.0, VotesPerc: 3.0, StackedAmount2015: -18.8 },
			{ Country: "Sweden", Year: 2021, CleanShare: 71.5, TaxGDP: 1.4, EmissionsEUShare: 2.1, TaxEUShare: 2.3, TotalAmount: -0.6, BalanceSheet: -0.2, VotesPerc: 3.0, StackedAmount2015: -19.4 },
			{ Country: "Sweden", Year: 2022, CleanShare: 73.7, TaxGDP: 1.3, EmissionsEUShare: 2.1, TaxEUShare: 2.2, TotalAmount: -0.3, BalanceSheet: -0.1, VotesPerc: 3.0, StackedAmount2015: -19.7 },
			{ Country: "Slovenia", Year: 2015, CleanShare: 35.6, TaxGDP: 3.9, EmissionsEUShare: 0.6, TaxEUShare: 0.5, TotalAmount: 0.2, BalanceSheet: 0.1, VotesPerc: 1.0, StackedAmount2015: 0.2 },
			{ Country: "Slovenia", Year: 2016, CleanShare: 35.6, TaxGDP: 3.9, EmissionsEUShare: 0.6, TaxEUShare: 0.5, TotalAmount: 0.2, BalanceSheet: 0.1, VotesPerc: 1.0, StackedAmount2015: 0.4 },
			{ Country: "Slovenia", Year: 2017, CleanShare: 34.9, TaxGDP: 3.7, EmissionsEUShare: 0.6, TaxEUShare: 0.5, TotalAmount: 0.3, BalanceSheet: 0.1, VotesPerc: 1.0, StackedAmount2015: 0.6 },
			{ Country: "Slovenia", Year: 2018, CleanShare: 35.2, TaxGDP: 3.4, EmissionsEUShare: 0.6, TaxEUShare: 0.5, TotalAmount: 0.3, BalanceSheet: 0.1, VotesPerc: 1.0, StackedAmount2015: 0.9 },
			{ Country: "Slovenia", Year: 2019, CleanShare: 35.7, TaxGDP: 3.7, EmissionsEUShare: 0.6, TaxEUShare: 0.5, TotalAmount: 0.1, BalanceSheet: 0.0, VotesPerc: 1.0, StackedAmount2015: 1.1 },
			{ Country: "Slovenia", Year: 2020, CleanShare: 40.5, TaxGDP: 3.3, EmissionsEUShare: 0.6, TaxEUShare: 0.5, TotalAmount: 0.2, BalanceSheet: 0.1, VotesPerc: 1.0, StackedAmount2015: 1.3 },
			{ Country: "Slovenia", Year: 2021, CleanShare: 38.1, TaxGDP: 3.1, EmissionsEUShare: 0.6, TaxEUShare: 0.5, TotalAmount: 0.2, BalanceSheet: 0.1, VotesPerc: 1.0, StackedAmount2015: 1.5 },
			{ Country: "Slovenia", Year: 2022, CleanShare: 35.6, TaxGDP: 2.9, EmissionsEUShare: 0.5, TaxEUShare: 0.5, TotalAmount: 0.1, BalanceSheet: 0.0, VotesPerc: 1.0, StackedAmount2015: 1.6 },
			{ Country: "Slovakia", Year: 2015, CleanShare: 31.0, TaxGDP: 2.5, EmissionsEUShare: 1.7, TaxEUShare: 0.7, TotalAmount: 3.0, BalanceSheet: 1.0, VotesPerc: 1.7, StackedAmount2015: 3.0 },
			{ Country: "Slovakia", Year: 2016, CleanShare: 30.9, TaxGDP: 2.5, EmissionsEUShare: 1.5, TaxEUShare: 0.7, TotalAmount: 2.7, BalanceSheet: 0.9, VotesPerc: 1.7, StackedAmount2015: 5.7 },
			{ Country: "Slovakia", Year: 2017, CleanShare: 29.4, TaxGDP: 2.5, EmissionsEUShare: 1.4, TaxEUShare: 0.7, TotalAmount: 2.3, BalanceSheet: 0.7, VotesPerc: 1.7, StackedAmount2015: 8.0 },
			{ Country: "Slovakia", Year: 2018, CleanShare: 28.4, TaxGDP: 2.5, EmissionsEUShare: 1.3, TaxEUShare: 0.7, TotalAmount: 1.9, BalanceSheet: 0.6, VotesPerc: 1.7, StackedAmount2015: 9.9 },
			{ Country: "Slovakia", Year: 2019, CleanShare: 31.2, TaxGDP: 2.5, EmissionsEUShare: 1.1, TaxEUShare: 0.7, TotalAmount: 1.4, BalanceSheet: 0.4, VotesPerc: 1.7, StackedAmount2015: 11.3 },
			{ Country: "Slovakia", Year: 2020, CleanShare: 32.3, TaxGDP: 2.4, EmissionsEUShare: 1.1, TaxEUShare: 0.8, TotalAmount: 0.9, BalanceSheet: 0.3, VotesPerc: 1.7, StackedAmount2015: 12.2 },
			{ Country: "Slovakia", Year: 2021, CleanShare: 30.2, TaxGDP: 2.3, EmissionsEUShare: 1.1, TaxEUShare: 0.7, TotalAmount: 1.1, BalanceSheet: 0.3, VotesPerc: 1.7, StackedAmount2015: 13.3 },
			{ Country: "Slovakia", Year: 2022, CleanShare: 31.4, TaxGDP: 2.0, EmissionsEUShare: 0.9, TaxEUShare: 0.7, TotalAmount: 0.7, BalanceSheet: 0.2, VotesPerc: 1.7, StackedAmount2015: 14.0 }
		];

        // Starting chart
        const margin = { top: 0, right: 0, bottom: 0, left: 0 };
        const width = 1380;
        const height = 600;
        const years = [...new Set(contriesData.map(d => d.Year))];
        let currentYearIndex = years.indexOf(2022);

        // Set zoom and pan
        const svg = d3.select("body")
            .append("svg")
            .attr("width", width)
            .attr("height", height)
            .style("background", "#202020")
            .style("overflow", "visible")
            .call(d3.zoom()
                .scaleExtent([1, 5])
                .translateExtent([[0, 0], [width, height]])
                .on("zoom", (event) => {
                    g.attr("transform", event.transform);
                })
            );

        const g = svg.append("g");

        const xScale = d3.scaleLinear()
            .range([50, width - 50]);

        const yScale = d3.scaleLinear()
            .domain([0, 75]) // Sweden is max 73%
            .range([height - 50, 50]);

        const sizeScale = d3.scaleSqrt()
            .domain(d3.extent(contriesData, d => d.VotesPerc /5)) // scaleSqrt is used to reshape sizes arbitrarily
            .range([10, 40]); // again min max

        const colorScale = d3.scaleSequential(d3.interpolateRdYlGn)
            .domain(d3.extent(contriesData, d => d.BalanceSheet));

        const xAxis = d3.axisBottom(xScale)
            .ticks(6)
            .tickFormat(d => `${d3.format(",")(d)}B`) // Billions
            .tickSizeOuter(0);

        const yAxis = d3.axisLeft(yScale)
            .ticks(4)
            .tickFormat(d => `${d}%`);

        const tooltip = d3.select("body")
            .append("div")
            .attr("class", "tooltip");

        g.append("g")
            .attr("class", "x axis")
            .attr("transform", `translate(0, ${height - 50})`)
            .call(xAxis)
            .selectAll(".domain, .tick line")
            .attr("stroke", "#ddd");

        g.append("g")
            .attr("class", "y axis")
            .attr("transform", `translate(50, 0)`)
            .call(yAxis)
            .selectAll(".domain, .tick line")
            .attr("stroke", "#ddd");

        g.append("text")
            .attr("x", (width / 2) + 30)
            .attr("y", height)
            .attr("text-anchor", "middle")
            .attr("fill", "#8a8a8a")
            .text("Cumulative Balance Emissions-Taxes since 2015 in Current €");

        g.append("text")
            .attr("transform", "rotate(-90)")
            .attr("x", -height / 2)
            .attr("y", 10)
            .attr("text-anchor", "middle")
            .attr("fill", "#8a8a8a")
            .text("Low-Carbon Mix");

        function updateGraph(year) {
            const data = contriesData.filter(d => d.Year === year);
            const xDomain = d3.extent(data, d => d.StackedAmount2015);
            const padding = (xDomain[1] - xDomain[0]) * 0.1; // as Italy were displayed at the edge, I added some padding
            xScale.domain([xDomain[0] - padding, xDomain[1] + padding]);
            // Just looks better if x is reset on each update
            // in general, next bored lines are used to update everything (borders, images, axes, tooltip)
            g.select(".x.axis")
                .transition()
                .duration(1000)
                .call(xAxis);

            const images = g.selectAll("image")
                .data(data, d => d.Country);

            const borders = g.selectAll("circle")
                .data(data, d => d.Country);

            borders.transition()
                .duration(1000)
                .attr("cx", d => xScale(d.StackedAmount2015))
                .attr("cy", d => yScale(d.CleanShare))
                .attr("fill", d => colorScale(d.BalanceSheet))
                .attr("stroke", d => colorScale(d.BalanceSheet));

            borders.enter()
                .append("circle")
                .attr("cx", d => xScale(d.StackedAmount2015))
                .attr("cy", d => yScale(d.CleanShare))
                .attr("r", d => sizeScale(d.VotesPerc) / 2 + 1)
                .attr("fill", d => colorScale(d.BalanceSheet))
                .attr("stroke", d => colorScale(d.BalanceSheet))
                .attr("stroke-width", 2)
                .style("opacity", 0)
                .transition()
                .duration(1000)
                .style("opacity", 1);

            images.transition()
                .duration(1000)
                .attr("x", d => xScale(d.StackedAmount2015) - sizeScale(d.VotesPerc) / 2)
                .attr("y", d => yScale(d.CleanShare) - sizeScale(d.VotesPerc) / 2);

            images.enter()
                .append("image")
                .attr("x", d => xScale(d.StackedAmount2015) - sizeScale(d.VotesPerc) / 2)
                .attr("y", d => yScale(d.CleanShare) - sizeScale(d.VotesPerc) / 2)
                .attr("width", d => sizeScale(d.VotesPerc))
                .attr("height", d => sizeScale(d.VotesPerc))
                .attr("href", d => `icon/${d.Country}.png`)
                .style("opacity", 0)
                .on("mouseover", (event, d) => {
                    const windowHeight = window.innerHeight;
                    const windowWidth = window.innerWidth;
                    const mouseY = event.clientY;
                    const mouseX = event.clientX;

                    const yOffset = mouseY > windowHeight / 2 ? -120 : 20;
                    const xOffset = mouseX > windowWidth / 2 ? -300 : 20;

                    tooltip.style("opacity", 1)
                        .style("left", `${event.pageX + xOffset}px`)
                        .style("top", `${event.pageY + yOffset}px`)
                        .style("box-shadow", `0 2px 3px 3px ${colorScale(d.BalanceSheet)}`)
                        .html(`
                            <div class="tooltip-header">
                                ${d.Country}
                            </div>
                            <div class="tooltip-content">
                                <div class="tooltip-row"><b>Year</b>: <em>${d.Year}</em></div>
                                <div class="tooltip-row"><b>Clean share</b>: <em>${d.CleanShare}%</em></div>
                                <div class="tooltip-row"><b>Tax GDP</b>: <em>${d.TaxGDP}%</em></div>
                                <div class="tooltip-row"><b>Emissions-Tax Balance</b>: <em>${d.BalanceSheet}%</em></div>
                                <div class="tooltip-row"><b>Votes</b>: <em>${d.VotesPerc}%</em></div>
                                <div class="tooltip-row"><b>Cumulative since 2015</b>: <em>${d3.format(",.1f")(d.StackedAmount2015)} B€</em></div>
                            </div>
                        `);

                    d3.select(event.target)
                        .attr("stroke", "#ede67b")
                        .attr("stroke-width", 1);
                })
                .on("mouseout", (event) => {
                    tooltip.style("opacity", 0);
                    d3.select(event.target)
                        .attr("stroke", "none");
                })
                .transition()
                .duration(1000)
                .style("opacity", 1);

            images.transition()
                .duration(1000)
                .attr("x", d => xScale(d.StackedAmount2015) - sizeScale(d.VotesPerc) / 2)
                .attr("y", d => yScale(d.CleanShare) - sizeScale(d.VotesPerc) / 2);

            images.exit()
                .transition()
                .duration(1000)
                .style("opacity", 0)
                .remove();

            borders.exit()
                .transition()
                .duration(1000)
                .style("opacity", 0)
                .remove();
        }

        currentYearIndex = 0;
        // func to update years
        function updateYear(delta) {
            currentYearIndex = Math.max(0, Math.min(years.length - 1, currentYearIndex + delta));
            const year = years[currentYearIndex];
            document.getElementById("year-label").textContent = year;

            d3.select("#left-arrow")
                .classed("disabled", currentYearIndex === 0);
            d3.select("#right-arrow")
                .classed("disabled", currentYearIndex === years.length - 1);

            updateGraph(year);
        }

        document.getElementById("left-arrow").addEventListener("click", () => updateYear(-1));
        document.getElementById("right-arrow").addEventListener("click", () => updateYear(1));

        const combinedLegend = svg.append("g")
            .attr("transform", `translate(${width - 350}, 30)`);
        // https://d3-graph-gallery.com/graph/bubble_legend.html
        combinedLegend.append("rect")
            .attr("x", 60)
            .attr("y", 0)
            .attr("width", 240)
            .attr("height", 180)
            .attr("rx", 10)
            .attr("ry", 10)
            .style("fill", "#dddddd24")
            .style("stroke", "#676767")
            .style("stroke-width", 1);

        combinedLegend.append("text")
            .attr("x", 75)
            .attr("y", 20)
            .attr("text-anchor", "start")
            .style("font-size", "14px")
            .style("font-weight", "bold")
            .style("fill", "#676767")
            .text("Representation in EU Parliament");

        const sizeLegendValues = [1, 5, 10];
        const sizeLegendGroup = combinedLegend.append("g")
            .attr("transform", "translate(160, 45)");

        sizeLegendGroup.selectAll("circle")
            .data(sizeLegendValues)
            .enter()
            .append("circle")
            .attr("cx", 20)
            .attr("cy", d => 50 - sizeScale(d / 5))
            .attr("r", d => sizeScale(d / 5))
            .style("fill", "none")
            .attr("stroke", "#676767");

        sizeLegendGroup.selectAll("line")
            .data(sizeLegendValues)
            .enter()
            .append("line")
            .attr("x1", d => 20 + sizeScale(d / 5))
            .attr("x2", 80)
            .attr("y1", d => 50 - sizeScale(d / 5))
            .attr("y2", d => 50 - sizeScale(d / 5))
            .attr("stroke", "#676767")
            .style("stroke-dasharray", "2,2");

        sizeLegendGroup.selectAll("text")
            .data(sizeLegendValues)
            .enter()
            .append("text")
            .attr("x", 85)
            .attr("y", d => 50 - sizeScale(d / 5))
            .attr("text-anchor", "start")
            .style("font-size", "12px")
            .style("fill", "#676767")
            .attr("alignment-baseline", "middle")
            .text(d => `${d}%`);

        // colors legend, everything pos absolute :)
        combinedLegend.append("text")
            .attr("x", 100)
            .attr("y", 115)
            .attr("text-anchor", "start")
            .style("font-size", "14px")
            .style("font-weight", "bold")
            .style("fill", "#676767")
            .text("Emissions-Taxes Balance");

        const colorLegendGroup = combinedLegend.append("g")
            .attr("transform", "translate(90, 120)");

        const gradientId = "color-gradient";
        const defs = svg.append("defs");
        const gradient = defs.append("linearGradient")
            .attr("id", gradientId)
            .attr("x1", "0%")
            .attr("x2", "100%")
            .attr("y1", "0%")
            .attr("y2", "0%");

        const colorSteps = d3.range(-8, 8);
        colorSteps.forEach((value, i) => {
            gradient.append("stop")
                .attr("offset", `${(i / (colorSteps.length - 1)) * 100}%`)
                .attr("stop-color", colorScale(value));
        });

        colorLegendGroup.append("rect")
            .attr("x", 0)
            .attr("y", 0)
            .attr("width", 170)
            .attr("height", 20)
            .style("fill", `url(#${gradientId})`);

        colorLegendGroup.append("text")
            .attr("x", 0)
            .attr("y", 40)
            .attr("text-anchor", "middle")
            .style("font-size", "12px")
            .style("fill", "#676767")
            .text("-8%");

        colorLegendGroup.append("text")
            .attr("x", 175)
            .attr("y", 40)
            .attr("text-anchor", "middle")
            .style("font-size", "12px")
            .style("fill", "#676767")
            .text("+8%");

        colorLegendGroup.append("text")
            .attr("x", 90)
            .attr("y", 40)
            .attr("text-anchor", "middle")
            .style("font-size", "12px")
            .style("fill", "#676767")
            .text("0%");

        updateYear(0);
        // Starting with auto play
        function autoAdvanceYears() {
            const interval = setInterval(() => {
                if (currentYearIndex === years.length - 1) {
                    clearInterval(interval);
                    return;
                }
                updateYear(1);
            }, 950);
        }
        autoAdvanceYears();
    </script>
</body>
</html>
